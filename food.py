# -*- coding: utf-8 -*-
"""food.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1Ph-dzWmPOdDzw7nmH3-am2TQX5dazJHA
"""

##æœ€çµ‚
import time
import random
import webbrowser
from urllib.parse import quote # å¼•å…¥ quote å‡½å¼ï¼Œç”¨æ–¼ URL ç·¨ç¢¼

def main():
    # --- è³‡æ–™æº–å‚™å€ ---
    all_foods = [
        # === ä¸»é£Ÿé¡ ===
        # ä¸­å¼ãƒ»é£¯é¡
        {"name": "æ»·è‚‰é£¯", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "é£¯é¡"]},
        {"name": "ç‚’é£¯", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "é£¯é¡"]},
        {"name": "æµ·å—é›é£¯", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "é£¯é¡"]},
        {"name": "è›‹ç‚’é£¯", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "é£¯é¡"]},
        {"name": "æ’éª¨é£¯", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "é£¯é¡"]},
        {"name": "é›è…¿é£¯", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "é£¯é¡"]},

        # ä¸­å¼ãƒ»éºµé¡
        {"name": "ç‰›è‚‰éºµ", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "éºµé¡"]},
        {"name": "ç‚’éºµ", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "éºµé¡"]},
        {"name": "æ¹¯éºµ", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "éºµé¡"]},
        {"name": "æ¦¨èœè‚‰çµ²éºµ", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "éºµé¡"]},
        {"name": "æ“”ä»”éºµ", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "éºµé¡"]},
        {"name": "ç‚¸é†¬éºµ", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "éºµé¡"]},
        {"name": "é›çµ²éºµ", "tags": ["ä¸»é£Ÿ", "ä¸­å¼", "éºµé¡"]},

        # è¥¿å¼ãƒ»æ‰‹æ‹¿
        {"name": "æŠ«è–©", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "æ‰‹æ‹¿"]},
        {"name": "æ¼¢å ¡", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "æ‰‹æ‹¿"]},
        {"name": "ç†±ç‹—", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "æ‰‹æ‹¿"]},
        {"name": "å¯é Œä¸‰æ˜æ²»", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "æ‰‹æ‹¿"]},
        {"name": "å¸•å°¼å°¼", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "æ‰‹æ‹¿"]},
        {"name": "æ²é¤…", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "æ‰‹æ‹¿"]},

        # è¥¿å¼ãƒ»ç›¤è£
        {"name": "ç‰›æ’", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "ç›¤è£"]},
        {"name": "çƒ¤é›è…¿æ’", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "ç›¤è£"]},
        {"name": "ç„—çƒ¤é¦¬éˆ´è–¯", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "ç›¤è£"]},
        {"name": "çƒ¤é®­é­š", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "ç›¤è£"]},
        {"name": "å«©ç…è±¬æ’", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "ç›¤è£"]},
        {"name": "ç„—çƒ¤æµ·é®®", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "ç›¤è£"]},
        {"name": "æ²™æ‹‰ä½çƒ¤é›èƒ¸", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "ç›¤è£"]},
        {"name": "ç„—çƒ¤è”¬èœæ‹¼ç›¤", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "ç›¤è£"]},
        {"name": "è‚‰æ’æ‹¼è–¯æ³¥", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "ç›¤è£"]},
        {"name": "çƒ¤è±¬è‚‹æ’", "tags": ["ä¸»é£Ÿ", "è¥¿å¼", "ç›¤è£"]},

        # æ—¥å¼ãƒ»é‡å£å‘³
        {"name": "æ‹‰éºµ", "tags": ["ä¸»é£Ÿ", "æ—¥å¼", "é‡å£å‘³"]},
        {"name": "å’–å“©é£¯", "tags": ["ä¸»é£Ÿ", "æ—¥å¼", "é‡å£å‘³"]},
        {"name": "ç‚¸è±¬æ’å’–å“©", "tags": ["ä¸»é£Ÿ", "æ—¥å¼", "é‡å£å‘³"]},
        {"name": "é°»é­šé£¯", "tags": ["ä¸»é£Ÿ", "æ—¥å¼", "é‡å£å‘³"]},
        {"name": "æ²¹æšçƒé¾éºµ", "tags": ["ä¸»é£Ÿ", "æ—¥å¼", "é‡å£å‘³"]},

        # æ—¥å¼ãƒ»æ¸…çˆ½
        {"name": "å£½å¸", "tags": ["ä¸»é£Ÿ", "æ—¥å¼", "æ¸…çˆ½"]},
        {"name": "ç”Ÿé­šç‰‡ä¸¼", "tags": ["ä¸»é£Ÿ", "æ—¥å¼", "æ¸…çˆ½"]},
        {"name": "å†·è•éº¥éºµ", "tags": ["ä¸»é£Ÿ", "æ—¥å¼", "æ¸…çˆ½"]},
        {"name": "æ—¥å¼æ²™æ‹‰", "tags": ["ä¸»é£Ÿ", "æ—¥å¼", "æ¸…çˆ½"]},

        # éŸ“å¼ãƒ»é‡å£å‘³
        {"name": "è¾£ç‚’å¹´ç³•", "tags": ["ä¸»é£Ÿ", "éŸ“å¼", "é‡å£å‘³"]},
        {"name": "éŸ“å¼ç‚¸é›", "tags": ["ä¸»é£Ÿ", "éŸ“å¼", "é‡å£å‘³"]},
        {"name": "çŸ³é‹æ‹Œé£¯", "tags": ["ä¸»é£Ÿ", "éŸ“å¼", "é‡å£å‘³"]},
        {"name": "æ³¡èœé‹", "tags": ["ä¸»é£Ÿ", "éŸ“å¼", "é‡å£å‘³"]},
        {"name": "éƒ¨éšŠé‹", "tags": ["ä¸»é£Ÿ", "éŸ“å¼", "é‡å£å‘³"]},
        {"name": "æµ·é®®ç…é¤…", "tags": ["ä¸»é£Ÿ", "éŸ“å¼", "é‡å£å‘³"]},
        {"name": "éŸ“å¼å†·éºµ", "tags": ["ä¸»é£Ÿ", "éŸ“å¼", "é‡å£å‘³"]},
        {"name": "çƒ¤è‚‰é£¯", "tags": ["ä¸»é£Ÿ", "éŸ“å¼", "é‡å£å‘³"]},

        # === é»å¿ƒé¡ ===
        # é£²æ–™ãƒ»ç¾åš
        {"name": "æ‰‹æ–åº—çå¥¶", "tags": ["é»å¿ƒ", "é£²æ–™", "ç¾åš"]},
        {"name": "å’–å•¡å»³æ‹¿éµ", "tags": ["é»å¿ƒ", "é£²æ–™", "ç¾åš"]},
        {"name": "é®®æœç‰¹èª¿", "tags": ["é»å¿ƒ", "é£²æ–™", "ç¾åš"]},
        {"name": "æŠ¹èŒ¶æ‹¿éµ", "tags": ["é»å¿ƒ", "é£²æ–™", "ç¾åš"]},
        {"name": "å†°æ»´å’–å•¡", "tags": ["é»å¿ƒ", "é£²æ–™", "ç¾åš"]},
        {"name": "å¥¶è“‹ç´…èŒ¶", "tags": ["é»å¿ƒ", "é£²æ–™", "ç¾åš"]},

        # é£²æ–™ãƒ»æ–¹ä¾¿
        {"name": "ä¾¿åˆ©å•†åº—é£²æ–™", "tags": ["é»å¿ƒ", "é£²æ–™", "æ–¹ä¾¿"]},
        {"name": "ä¾¿åˆ©å•†åº—å’–å•¡", "tags": ["é»å¿ƒ", "é£²æ–™", "æ–¹ä¾¿"]},
        {"name": "ç½è£èŒ¶é£²", "tags": ["é»å¿ƒ", "é£²æ–™", "æ–¹ä¾¿"]},
        {"name": "ç½è£æ°£æ³¡æ°´", "tags": ["é»å¿ƒ", "é£²æ–™", "æ–¹ä¾¿"]},
        {"name": "é‹å‹•é£²æ–™", "tags": ["é»å¿ƒ", "é£²æ–™", "æ–¹ä¾¿"]},

        # ç”œçš„ãƒ»é›¶é£Ÿ
        {"name": "æ‰‹å·¥é¤…ä¹¾", "tags": ["é»å¿ƒ", "åƒçš„", "ç”œçš„", "é›¶é£Ÿ"]},
        {"name": "ä¾¿åˆ©å•†åº—ç³–æœ", "tags": ["é»å¿ƒ", "åƒçš„", "ç”œçš„", "é›¶é£Ÿ"]},
        {"name": "å·§å…‹åŠ›æ£’", "tags": ["é»å¿ƒ", "åƒçš„", "ç”œçš„", "é›¶é£Ÿ"]},
        {"name": "æ£‰èŠ±ç³–", "tags": ["é»å¿ƒ", "åƒçš„", "ç”œçš„", "é›¶é£Ÿ"]},
        {"name": "è›‹æ²", "tags": ["é»å¿ƒ", "åƒçš„", "ç”œçš„", "é›¶é£Ÿ"]},

        # ç”œçš„ãƒ»ç²¾ç·»
        {"name": "ç”œé»åº—è›‹ç³•", "tags": ["é»å¿ƒ", "åƒçš„", "ç”œçš„", "ç²¾ç·»"]},
        {"name": "è±†èŠ±", "tags": ["é»å¿ƒ", "åƒçš„", "ç”œçš„", "ç²¾ç·»"]},
        {"name": "é¬†é¤…", "tags": ["é»å¿ƒ", "åƒçš„", "ç”œçš„", "ç²¾ç·»"]},
        {"name": "åƒå±¤æ´¾", "tags": ["é»å¿ƒ", "åƒçš„", "ç”œçš„", "ç²¾ç·»"]},
        {"name": "æ³¡èŠ™", "tags": ["é»å¿ƒ", "åƒçš„", "ç”œçš„", "ç²¾ç·»"]},
        {"name": "é¦¬å¡é¾", "tags": ["é»å¿ƒ", "åƒçš„", "ç”œçš„", "ç²¾ç·»"]},
        {"name": "å¸ƒä¸", "tags": ["é»å¿ƒ", "åƒçš„", "ç”œçš„", "ç²¾ç·»"]},

        # é¹¹çš„ãƒ»é›¶é£Ÿ
        {"name": "æ´‹èŠ‹ç‰‡", "tags": ["é»å¿ƒ", "åƒçš„", "é¹¹çš„", "é›¶é£Ÿ"]},
        {"name": "èµ·å¸çƒ", "tags": ["é»å¿ƒ", "åƒçš„", "é¹¹çš„", "é›¶é£Ÿ"]},
        {"name": "é¹¹å‘³é¤…ä¹¾", "tags": ["é»å¿ƒ", "åƒçš„", "é¹¹çš„", "é›¶é£Ÿ"]},
        {"name": "æµ·è‹”", "tags": ["é»å¿ƒ", "åƒçš„", "é¹¹çš„", "é›¶é£Ÿ"]},
        {"name": "é¹¹å‘³çˆ†ç±³èŠ±", "tags": ["é»å¿ƒ", "åƒçš„", "é¹¹çš„", "é›¶é£Ÿ"]},

        # é¹¹çš„ãƒ»ç†±é£Ÿ
        {"name": "ç‚¸ç‰©æ”¤", "tags": ["é»å¿ƒ", "åƒçš„", "é¹¹çš„", "ç†±é£Ÿ"]},
        {"name": "é€Ÿé£Ÿåº—ç‚¸é›", "tags": ["é»å¿ƒ", "åƒçš„", "é¹¹çš„", "ç†±é£Ÿ"]},
        {"name": "æ½›è‰‡å ¡", "tags": ["é»å¿ƒ", "åƒçš„", "é¹¹çš„", "ç†±é£Ÿ"]},
        {"name": "ç†±ç‹—å ¡", "tags": ["é»å¿ƒ", "åƒçš„", "é¹¹çš„", "ç†±é£Ÿ"]},
        {"name": "çƒ¤åœŸå¸", "tags": ["é»å¿ƒ", "åƒçš„", "é¹¹çš„", "ç†±é£Ÿ"]},
        {"name": "ç‰ç±³æ¿ƒæ¹¯", "tags": ["é»å¿ƒ", "åƒçš„", "é¹¹çš„", "ç†±é£Ÿ"]},
        {"name": "ç†±å£“åå¸", "tags": ["é»å¿ƒ", "åƒçš„", "é¹¹çš„", "ç†±é£Ÿ"]}
    ]

    while True: # æœ€å¤–å±¤è¿´åœˆï¼Œæ§åˆ¶æ˜¯å¦é‡æ–°é–‹å§‹

        print("\n=== æ­¡è¿ä½¿ç”¨ã€Œä»Šå¤©åƒä»€éº¼ã€æ±ºç­–å°å¹«æ‰‹ ===")
        print("å›ç­”å•é¡Œï¼Œæˆ‘å°‡å¹«ä½ ç¯©é¸å‡ºæœ€é©åˆçš„ç¾é£Ÿï¼")
        time.sleep(1)

        candidates = all_foods.copy()
        current_stage = "Q1"

        # æ­¥é©Ÿ 4: é‡è¤‡ç¯©é¸ï¼Œç›´åˆ°æ²’æœ‰å•é¡Œå¯ä»¥å•
        while True:

            question = ""
            tag_A = ""
            tag_B = ""

            # --- æ±ºå®šè¦å•ä»€éº¼å•é¡Œ (ä¾ç…§ä¸Šä¸€é¡Œçš„çµæœæ±ºå®šä¸‹ä¸€é¡Œ) ---
            if current_stage == "Q1":
                question = "ç¾åœ¨çš„é¤“åº¦ï¼Ÿ (A) å¾ˆé¤“æƒ³åƒä¸»é£Ÿ (B) å˜´é¥æƒ³åƒé»å¿ƒ"
                tag_A = "ä¸»é£Ÿ"
                tag_B = "é»å¿ƒ"

            elif current_stage == "ä¸»é£Ÿ":
                question = "æƒ³åƒå“ªç¨®é¢¨å‘³ï¼Ÿ (A) æ±æ–¹å£å‘³(ä¸­æ—¥éŸ“) (B) è¥¿æ–¹å£å‘³"
                tag_A = "æ±æ–¹"
                tag_B = "è¥¿å¼"

            elif current_stage == "æ±æ–¹":
                question = "æƒ³åƒå®¶é„‰å‘³é‚„æ˜¯ç•°åœ‹é¢¨ï¼Ÿ (A) å°å¼å®¶é„‰å‘³ (B) æ—¥éŸ“ç•°åœ‹é¢¨"
                tag_A = "ä¸­å¼"
                tag_B = "æ—¥éŸ“"

            elif current_stage == "ä¸­å¼":
                question = "æƒ³åƒé£¯é‚„æ˜¯éºµï¼Ÿ (A) é£¯é¡ (B) éºµé¡"
                tag_A = "é£¯é¡"
                tag_B = "éºµé¡"

            elif current_stage == "æ—¥éŸ“":
                question = "æƒ³åƒå“ªåœ‹æ–™ç†ï¼Ÿ (A) æ—¥å¼ (B) éŸ“å¼"
                tag_A = "æ—¥å¼"
                tag_B = "éŸ“å¼"

            # --- é‡å°æ—¥éŸ“/æ—¥å¼/éŸ“å¼/ä¸­å¼/é£¯é¡/éºµé¡ï¼Œå¢åŠ ä¸‹ä¸€å±¤ç´°å•ï¼Œä»¥ç¢ºä¿èƒ½å•åˆ°åº• ---
            elif current_stage == "æ—¥å¼":
                 question = "æ—¥å¼å£å‘³ï¼Ÿ (A) æ¸…çˆ½ç³» (B) é‡å£å‘³ç³»"
                 tag_A = "æ¸…çˆ½"
                 tag_B = "é‡å£å‘³"

            elif current_stage == "éŸ“å¼":
                 question = "éŸ“å¼å£å‘³ï¼Ÿ (A) æ¸…çˆ½ç³» (B) é‡å£å‘³ç³»"
                 tag_A = "æ¸…çˆ½" # é›–ç„¶ç›®å‰éŸ“å¼æ¸…çˆ½é¸é …å¾ˆå°‘ï¼Œä½†ä¿ç•™é€™å€‹é‚è¼¯
                 tag_B = "é‡å£å‘³"

            elif current_stage == "è¥¿å¼":
                question = "å½¢å¼é¸æ“‡ï¼Ÿ (A) å„ªé›…ç›¤è£ (B) æ–¹ä¾¿æ‰‹æ‹¿"
                tag_A = "ç›¤è£"
                tag_B = "æ‰‹æ‹¿"

            elif current_stage == "é»å¿ƒ":
                question = "ç¨®é¡é¸æ“‡ï¼Ÿ (A) å–é£²æ–™ (B) åƒé£Ÿç‰©"
                tag_A = "é£²æ–™"
                tag_B = "åƒçš„"

            elif current_stage == "é£²æ–™":
                question = "è³¼è²·æ–¹å¼ï¼Ÿ (A) åº—å®¶ç¾åš (B) ä¾¿åˆ©å•†åº—"
                tag_A = "ç¾åš"
                tag_B = "æ–¹ä¾¿"

            elif current_stage == "åƒçš„":
                question = "å£å‘³é¸æ“‡ï¼Ÿ (A) ç”œçš„ (B) é¹¹çš„"
                tag_A = "ç”œçš„"
                tag_B = "é¹¹çš„"

            elif current_stage == "ç”œçš„":
                question = "ç²¾ç·»ç¨‹åº¦ï¼Ÿ (A) ç²¾ç·»ç”œé» (B) éš¨æ‰‹åŒ…è£é›¶é£Ÿ"
                tag_A = "ç²¾ç·»"
                tag_B = "é›¶é£Ÿ"

            elif current_stage == "é¹¹çš„":
                question = "æº«åº¦é¸æ“‡ï¼Ÿ (A) ç†±é¨°é¨°ç†Ÿé£Ÿ (B) åŒ…è£é›¶é£Ÿ"
                tag_A = "ç†±é£Ÿ"
                tag_B = "é›¶é£Ÿ"

            else:
                # å·²ç¶“å•åˆ°æ±ºç­–æ¨¹çš„æœ«ç«¯äº†ï¼ŒçµæŸå•ç­”
                break

            # é¡¯ç¤ºå•é¡Œä¸¦ç²å–è¼¸å…¥
            print(f"\nå•é¡Œ: {question}")
            user_input = input("è«‹è¼¸å…¥ A æˆ– B: ").upper()

            while user_input not in ["A", "B"]:
                print("è¼¸å…¥éŒ¯èª¤ï¼Œè«‹åªè¼¸å…¥ A æˆ– B å–”ï¼")
                user_input = input("è«‹è¼¸å…¥ A æˆ– B: ").upper()

            # ç¯©é¸é‚è¼¯
            selected_tag = tag_A if user_input == "A" else tag_B
            new_candidates = []

            for food in candidates:
                # ç‰¹æ®Šé‚è¼¯è™•ç†ï¼šæ±æ–¹
                if selected_tag == "æ±æ–¹":
                    if "ä¸­å¼" in food["tags"] or "æ—¥å¼" in food["tags"] or "éŸ“å¼" in food["tags"]:
                        new_candidates.append(food)
                # ç‰¹æ®Šé‚è¼¯è™•ç†ï¼šæ—¥éŸ“
                elif selected_tag == "æ—¥éŸ“":
                    if "æ—¥å¼" in food["tags"] or "éŸ“å¼" in food["tags"]:
                        new_candidates.append(food)
                # ä¸€èˆ¬é‚è¼¯
                elif selected_tag in food["tags"]:
                    new_candidates.append(food)

            # æ›´æ–°å€™é¸åå–®
            candidates = new_candidates

            # (æ ¹æ“šæ‚¨çš„è¦æ±‚ï¼Œé€™è£¡ä¸é¡¯ç¤ºç¯©é¸å¾Œå‰©é¤˜æ•¸é‡)
            # print(f"--> ç¯©é¸å¾Œï¼Œé‚„å‰©ä¸‹ {len(candidates)} å€‹é¸é …...")

            current_stage = selected_tag

        # æ­¥é©Ÿ 5: é¡¯ç¤ºçµæœ
        print("\n" + "="*40)

        final_food_name = "" # ç”¨ä¾†å„²å­˜æœ€çµ‚æ¨è–¦çš„é£Ÿç‰©åç¨±

        if len(candidates) == 0:
            print("âŒ æ‰¾ä¸åˆ°ç¬¦åˆçš„é£Ÿç‰©...å¯èƒ½è³‡æ–™åº«æ¼äº†ä»€éº¼ï¼")

        else:
            # 1. æ±ºå®šè¦é¡¯ç¤ºå¹¾å€‹ (æœ€å¤šä¸‰å€‹)
            amount_to_show = min(3, len(candidates))

            # random.sample å¯ä»¥å¾æ¸…å–®ä¸­ã€Œä¸é‡è¤‡ã€åœ°æŠ“å‡ºæŒ‡å®šæ•¸é‡çš„æ±è¥¿
            suggestion_list = random.sample(candidates, amount_to_show)

            print(f"âœ¨ æ ¹æ“šä½ çš„å›ç­”ï¼Œé€™è£¡æœ‰ {len(suggestion_list)} å€‹ä¸éŒ¯çš„é¸æ“‡ï¼š")
            for food in suggestion_list:
                print(f"ğŸ‘‰ {food['name']}")

            print("-" * 20)

            # 2. è©¢å•ä½¿ç”¨è€…æœ€çµ‚é¸æ“‡ï¼Œæˆ–å¹«å¿™éš¨æ©Ÿæ±ºå®š
            if len(suggestion_list) == 1:
                final_food_name = suggestion_list[0]['name']
                print(f"ğŸ¤– åˆ¥çŒ¶è±«äº†ï¼Œç³»çµ±ç›´æ¥æ¨è–¦ä½ åƒï¼šã€ {final_food_name} ã€‘")
            else:
                # é‡æ–°é¡¯ç¤ºé¸é …ä¸¦ç·¨è™Ÿ
                print("\n**è«‹åšå‡ºä½ çš„é¸æ“‡** (è¼¸å…¥ N ä»£è¡¨é¸ä¸å‡ºä¾†):")
                choice_options = {} # ç”¨å­—å…¸å„²å­˜é¸é …ï¼Œæ–¹ä¾¿å¾ŒçºŒæŸ¥æ‰¾
                valid_choices = ["N"]
                for i, food in enumerate(suggestion_list):
                    option_num = i + 1
                    print(f"({option_num}) {food['name']}")
                    choice_options[str(option_num)] = food['name']
                    valid_choices.append(str(option_num))

                user_final_choice = input(f"è«‹è¼¸å…¥é¸é …æ•¸å­— (1~{len(suggestion_list)}) æˆ– N: ").upper()

                while user_final_choice not in valid_choices:
                    print("è¼¸å…¥éŒ¯èª¤ï¼Œè«‹è¼¸å…¥æ­£ç¢ºçš„é¸é …æ•¸å­—æˆ– Nï¼")
                    user_final_choice = input(f"è«‹è¼¸å…¥é¸é …æ•¸å­— (1~{len(suggestion_list)}) æˆ– N: ").upper()

                if user_final_choice == "N":
                    final_choice = random.choice(suggestion_list)
                    final_food_name = final_choice['name']
                    print(f"\nğŸ¤– æ—¢ç„¶ä½ æœ‰é¸æ“‡éšœç¤™ï¼Œç³»çµ±æ±ºå®šå°±æ˜¯å®ƒäº†ï¼šã€ {final_food_name} ã€‘")
                else:
                    # ä½¿ç”¨è€…é¸æ“‡äº†æ•¸å­—é¸é …
                    final_food_name = choice_options[user_final_choice]
                    print(f"\nğŸ‰ å¤ªå¥½äº†ï¼ä½ é¸æ“‡äº†ã€ {final_food_name} ã€‘ï¼å¿«å»åƒå§ï¼")

            # 3. æ–°å¢ã€Œå°‹æ‰¾é™„è¿‘ã€çš„å¿«æ·æ“ä½œ (Colab å°ˆç”¨ï¼šè¼¸å‡ºé€£çµ)
            if final_food_name:

                print("\n" + "#" * 40)
                # é€™è£¡çš„ final_food_name å·²ç¶“æ˜¯ä½¿ç”¨è€…é¸å®šæˆ–ç³»çµ±éš¨æ©Ÿé¸å®šçš„çµæœ
                print(f"ğŸ“ **æœ€çµ‚ç¢ºå®šé£Ÿç‰©ï¼šã€ {final_food_name} ã€‘**")

                map_search = input("è¦æœå°‹ã€é™„è¿‘å“ªè£¡æœ‰ã€‘å—ï¼Ÿ(è¼¸å…¥ Y å–å¾—é€£çµ): ").upper()
            # 3. æ–°å¢ã€Œå°‹æ‰¾é™„è¿‘ã€çš„å¿«æ·æ“ä½œ (Google Maps æ•´åˆ)

                if map_search == "Y":
                    search_query = f"é™„è¿‘ {final_food_name}"

                    # URL ç·¨ç¢¼æœå°‹å­—ä¸²
                    encoded_query = quote(search_query)

                    # æ§‹å»º Google Maps çš„æœå°‹ URL
                    # æ§‹å»º Google æœå°‹ URLï¼Œä¸¦åŠ å…¥ 'tbm=lcl' åƒæ•¸ï¼ˆGoogle åœ°åœ–/åœ¨åœ°æœå°‹çš„ç‰¹æ®Šåƒæ•¸ï¼‰
                    map_url = f"https://www.google.com/search?q={encoded_query}&tbm=lcl"

                    # é–‹å•Ÿç€è¦½å™¨
                    webbrowser.open(map_url)
                    print("\nğŸš€ ç€è¦½å™¨å·²è‡ªå‹•é–‹å•Ÿ Google åœ°åœ–ï¼")
                else:
                    print("\nå¥½çš„ï¼Œç¥æ‚¨ç”¨é¤æ„‰å¿«ï¼")

                print("#" * 40)

        print("="*40)

        # æ­¥é©Ÿ 6: é‡æ–°é–‹å§‹
        restart = input("\næƒ³é‡æ–°ç©ä¸€æ¬¡å—ï¼Ÿ(y/n): ")
        if restart.lower() != 'y':
            print("ç¥ä½ ç”¨é¤æ„‰å¿«ï¼Bye Byeï¼")
            break # è·³å‡ºæœ€å¤–å±¤è¿´åœˆï¼Œç¨‹å¼çµæŸ

# åŸ·è¡Œä¸»ç¨‹å¼
if __name__ == "__main__":
    main()